From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: chickeneer <emcchickeneer@gmail.com>
Date: Wed, 2 Jun 2021 09:15:57 -0500
Subject: [PATCH] Add api to FurnaceExtractEvent for furnaces breaking

Specifically nullable player and extracted item
Added result item type and amount

diff --git a/src/main/java/org/bukkit/event/inventory/FurnaceExtractEvent.java b/src/main/java/org/bukkit/event/inventory/FurnaceExtractEvent.java
index 020739697a0b535cad0b15b574f77cdabbdfa3eb..1366e6160b2da05100bb7675bf84c9f813e47905 100644
--- a/src/main/java/org/bukkit/event/inventory/FurnaceExtractEvent.java
+++ b/src/main/java/org/bukkit/event/inventory/FurnaceExtractEvent.java
@@ -5,6 +5,7 @@ import org.bukkit.block.Block;
 import org.bukkit.entity.Player;
 import org.bukkit.event.block.BlockExpEvent;
 import org.jetbrains.annotations.NotNull;
+import org.jetbrains.annotations.Nullable;
 
 /**
  * This event is called when a player takes items out of the furnace
@@ -13,9 +14,14 @@ public class FurnaceExtractEvent extends BlockExpEvent {
     private final Player player;
     private final Material itemType;
     private final int itemAmount;
-
-    public FurnaceExtractEvent(@NotNull Player player, @NotNull Block block, @NotNull Material itemType, int itemAmount, int exp) {
+    // EMC start
+    private final Material resultType;
+    private final int resultAmount;
+    public FurnaceExtractEvent(@Nullable Player player, @NotNull Block block, @Nullable Material itemType, int itemAmount, int exp, @NotNull Material resultType, int resultAmount) { // EMC - add nullable and resultType
         super(block, exp);
+        this.resultType = resultType;
+        this.resultAmount = resultAmount;
+        // EMC end
         this.player = player;
         this.itemType = itemType;
         this.itemAmount = itemAmount;
@@ -26,7 +32,7 @@ public class FurnaceExtractEvent extends BlockExpEvent {
      *
      * @return the relevant player
      */
-    @NotNull
+    @Nullable // EMC
     public Player getPlayer() {
         return player;
     }
@@ -36,7 +42,7 @@ public class FurnaceExtractEvent extends BlockExpEvent {
      *
      * @return the material of the item
      */
-    @NotNull
+    @Nullable // EMC
     public Material getItemType() {
         return itemType;
     }
@@ -49,4 +55,27 @@ public class FurnaceExtractEvent extends BlockExpEvent {
     public int getItemAmount() {
         return itemAmount;
     }
+    // EMC start
+    /**
+     * Get the Material of the recipe result being retrieved
+     * This is different from {@link #getItemType} for stored result experience
+     *
+     * @return the material of the recipe resul
+     */
+    @Nullable
+    public Material getResultType() {
+        return resultType;
+    }
+
+    /**
+     * Get the recipe result count being retrieved
+     * This is different from {@link #getItemAmount()} for stored result experience
+     *
+     * @return the amount of the recipe result
+     */
+    public int getResultAmount() {
+        return resultAmount;
+    }
+    // EMC end
+
 }
